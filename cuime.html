<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>柜me - 个人形象顾问</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
    <link rel="stylesheet" href="cuime-styles.css">
</head>
<body>
    <div id="cuime-page" class="cuime-container">
        <header class="sketch-border" style="padding: 15px 20px; margin-bottom: 20px; background-color: var(--cream);">
            <h1 style="margin: 0; color: var(--charcoal);">柜me - 您的个人形象顾问</h1>
            <p style="margin: 5px 0 0; color: var(--warm-brown);">根据天气和您的个人特点，为您提供贴心的穿搭建议</p>
        </header>
        
        <div class="cuime-content" style="display: flex; flex-wrap: wrap; gap: 20px;">
            <!-- 左侧 - 手绘街景部分 (60% 宽度) -->
            <div class="street-scene-container" style="flex: 3; min-width: 300px;">
                <div class="street-scene">
                    <!-- 交通灯 UV 指示器 -->
                    <div class="traffic-light">
                        <div class="traffic-light-face">
                            <div class="traffic-light-eyes">
                                <div class="traffic-light-eye"></div>
                                <div class="traffic-light-eye"></div>
                            </div>
                            <div class="traffic-light-mouth"></div>
                        </div>
                        <div class="light red" id="uv-high"></div>
                        <div class="light yellow" id="uv-medium"></div>
                        <div class="light green" id="uv-low"></div>
                    </div>
                    
                    <!-- 广告牌 - 洗车日期推荐 -->
                    <div class="billboard">
                        <h3>推荐洗车日</h3>
                        <div class="billboard-dates" id="car-wash-dates">
                            加载中...
                        </div>
                    </div>
                    
                    <!-- 汽车贴纸 -->
                    <div class="car-sticker">
                        <img src="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 60' fill='none'%3E%3Cpath d='M15,40 Q25,20 50,25 Q75,30 85,40 Q90,45 85,50 Q75,55 50,55 Q25,55 15,50 Q10,45 15,40 Z' fill='%23f6c244' stroke='%23000' stroke-width='2'/%3E%3Ccircle cx='30' cy='45' r='5' fill='%23333'/%3E%3Ccircle cx='70' cy='45' r='5' fill='%23333'/%3E%3Cpath d='M40,35 Q50,30 60,35' stroke='%23000' stroke-width='2' fill='none'/%3E%3C/svg%3E" alt="汽车">
                    </div>
                    
                    <!-- 天气云朵 -->
                    <div class="weather-cloud" id="weather-cloud">
                        <div class="weather-cloud-face">
                            <div class="weather-cloud-eyes">
                                <div class="weather-cloud-eye"></div>
                                <div class="weather-cloud-eye"></div>
                            </div>
                            <div class="weather-cloud-mouth"></div>
                        </div>
                        <div style="text-align: center; font-weight: bold;" id="today-weather">
                            <div id="today-temp">--°C</div>
                            <div id="today-desc">加载中...</div>
                        </div>
                    </div>
                    
                    <!-- 黑板 - 未来天气预报 -->
                    <div class="chalkboard">
                        <h3>未来天气预报</h3>
                        <div class="forecast-day">
                            <div class="forecast-day-title" id="tomorrow-title">明天</div>
                            <div class="forecast-day-content" id="tomorrow-forecast">
                                加载中...
                            </div>
                        </div>
                        <div class="forecast-day">
                            <div class="forecast-day-title" id="day-after-title">后天</div>
                            <div class="forecast-day-content" id="day-after-forecast">
                                加载中...
                            </div>
                        </div>
                        <div class="forecast-suggestions" id="weather-suggestions" style="margin-top: 15px; border-top: 1px dashed white; padding-top: 10px;">
                        </div>
                    </div>
                    
                    <!-- 主角们（用户和WALL-E） -->
                    <div class="characters">
                        <!-- 用户角色 -->
                        <div class="user-character" id="user-character">
                            <div class="user-head"></div>
                            <div class="user-body" id="user-outfit-top"></div>
                            <div class="user-legs">
                                <div class="user-leg" id="user-outfit-bottom-left"></div>
                                <div class="user-leg" id="user-outfit-bottom-right"></div>
                            </div>
                        </div>
                        
                        <!-- WALL-E 角色 -->
                        <div class="walle-character">
                            <div class="walle-body">
                                <div class="walle-eyes">
                                    <div class="walle-eye">
                                        <div class="walle-pupil"></div>
                                    </div>
                                    <div class="walle-eye">
                                        <div class="walle-pupil"></div>
                                    </div>
                                </div>
                            </div>
                            <div class="walle-hand left"></div>
                            <div class="walle-hand right"></div>
                            <div class="walle-foot left"></div>
                            <div class="walle-foot right"></div>
                        </div>
                    </div>
                    
                    <!-- 刷新穿搭按钮 -->
                    <button class="sketch-button" id="refresh-outfit" style="position: absolute; bottom: 150px; left: 50%; transform: translateX(-50%);">
                        <i class="fas fa-sync-alt"></i> 刷新穿搭
                    </button>
                    
                    <!-- 用户信息图标和面板 -->
                    <div class="user-profile-icon" id="user-profile-toggle">
                        <i class="fas fa-user"></i>
                    </div>
                    
                    <div class="user-profile-panel" id="user-profile-panel">
                        <h3 style="margin-top: 0;">个人信息</h3>
                        <form id="user-profile-form">
                            <div style="margin-bottom: 15px;">
                                <label for="user-height" style="display: block; margin-bottom: 5px;">身高 (cm)</label>
                                <input type="number" id="user-height" class="sketch-border" style="width: 100%; padding: 8px;" value="170">
                            </div>
                            <div style="margin-bottom: 15px;">
                                <label for="user-weight" style="display: block; margin-bottom: 5px;">体重 (kg)</label>
                                <input type="number" id="user-weight" class="sketch-border" style="width: 100%; padding: 8px;" value="60">
                            </div>
                            <div style="margin-bottom: 15px;">
                                <label style="display: block; margin-bottom: 5px;">性别</label>
                                <div style="display: flex; gap: 10px;">
                                    <label>
                                        <input type="radio" name="user-gender" value="male"> 男
                                    </label>
                                    <label>
                                        <input type="radio" name="user-gender" value="female" checked> 女
                                    </label>
                                </div>
                            </div>
                            <div style="margin-bottom: 15px;">
                                <label style="display: block; margin-bottom: 5px;">健康状况 (多选)</label>
                                <div style="display: flex; flex-wrap: wrap; gap: 5px 10px;">
                                    <label style="display: flex; align-items: center;">
                                        <input type="checkbox" name="health-condition" value="hypertension">
                                        <span style="margin-left: 5px;">高血压</span>
                                    </label>
                                    <label style="display: flex; align-items: center;">
                                        <input type="checkbox" name="health-condition" value="cholesterol">
                                        <span style="margin-left: 5px;">高胆固醇</span>
                                    </label>
                                    <label style="display: flex; align-items: center;">
                                        <input type="checkbox" name="health-condition" value="knee">
                                        <span style="margin-left: 5px;">膝盖问题</span>
                                    </label>
                                    <label style="display: flex; align-items: center;">
                                        <input type="checkbox" name="health-condition" value="gout">
                                        <span style="margin-left: 5px;">痛风</span>
                                    </label>
                                </div>
                            </div>
                            <button type="submit" class="sketch-button" style="width: 100%;">保存信息</button>
                        </form>
                        
                        <div id="profile-recommendations" style="margin-top: 15px; border-top: 2px dashed var(--charcoal); padding-top: 15px;">
                            <h4 style="margin-top: 0;">个性化建议</h4>
                            <div class="health-recommendations">
                                <div class="recommendation-item">
                                    <i class="fas fa-utensils" style="margin-right: 5px;"></i>
                                    <span id="diet-recommendation">请先提供您的个人信息</span>
                                </div>
                                <div class="recommendation-item" style="margin-top: 10px;">
                                    <i class="fas fa-walking" style="margin-right: 5px;"></i>
                                    <span id="travel-recommendation">请先提供您的个人信息</span>
                                </div>
                            </div>
                        </div>
                    </div>
                    
                    <!-- 地理位置显示 -->
                    <div class="location-display" id="location-display">
                        <i class="fas fa-map-marker-alt"></i>
                        <span id="current-location">定位中...</span>
                    </div>
                </div>
            </div>
            
            <!-- 右侧 - 真人模型部分 (40% 宽度) -->
            <div class="real-person-container" style="flex: 2; min-width: 250px;">
                <div class="real-person-section">
                    <h3 style="margin-top: 0; color: var(--charcoal);">今日穿搭推荐</h3>
                    
                    <!-- 模型容器 -->
                    <div class="model-container">
                        <div class="model-placeholder" id="human-model">
                            <div class="model-head"></div>
                            <div class="model-body">
                                <div class="model-top"></div>
                                <div class="model-bottom"></div>
                            </div>
                        </div>
                    </div>
                    
                    <!-- 面部详情区域 -->
                    <div class="face-detail-area">
                        <div class="face-detail-title">
                            <i class="fas fa-palette"></i>
                            推荐妆容与发型
                        </div>
                        <div class="recommendation-content">
                            <p id="makeup-recommendation">上传自拍后，获取个性化妆容推荐</p>
                            <p id="hairstyle-recommendation">上传自拍后，获取适合您的发型推荐</p>
                        </div>
                        
                        <!-- 自拍上传区域 -->
                        <div class="upload-area" id="selfie-upload">
                            <i class="fas fa-camera"></i>
                            <div>上传自拍照片</div>
                            <small style="display: block; margin-top: 5px; color: #888;">获取个性化妆容与发型推荐</small>
                        </div>
                        <input type="file" id="selfie-input" accept="image/*" style="display: none;">
                    </div>
                    
                    <!-- 服装详情 -->
                    <div class="outfit-details">
                        <h4 style="margin-top: 0; color: var(--charcoal);">搭配详情</h4>
                        
                        <!-- 上衣推荐 -->
                        <div class="outfit-item">
                            <div class="outfit-item-icon">
                                <i class="fas fa-tshirt"></i>
                            </div>
                            <div class="outfit-item-info">
                                <div class="outfit-item-label">上衣推荐</div>
                                <div class="outfit-item-name" id="top-recommendation">加载中...</div>
                            </div>
                        </div>
                        
                        <!-- 下装推荐 -->
                        <div class="outfit-item">
                            <div class="outfit-item-icon">
                                <i class="fas fa-socks"></i>
                            </div>
                            <div class="outfit-item-info">
                                <div class="outfit-item-label">下装推荐</div>
                                <div class="outfit-item-name" id="bottom-recommendation">加载中...</div>
                            </div>
                        </div>
                        
                        <!-- 鞋子推荐 -->
                        <div class="outfit-item">
                            <div class="outfit-item-icon">
                                <i class="fas fa-shoe-prints"></i>
                            </div>
                            <div class="outfit-item-info">
                                <div class="outfit-item-label">鞋子推荐</div>
                                <div class="outfit-item-name" id="shoes-recommendation">加载中...</div>
                            </div>
                        </div>
                        
                        <!-- 外套推荐 (可选) -->
                        <div class="outfit-item" id="outerwear-item" style="display: none;">
                            <div class="outfit-item-icon">
                                <i class="fas fa-vest"></i>
                            </div>
                            <div class="outfit-item-info">
                                <div class="outfit-item-label">外套推荐</div>
                                <div class="outfit-item-name" id="outerwear-recommendation">无</div>
                            </div>
                        </div>
                        
                        <!-- 配件推荐 (可选) -->
                        <div class="outfit-item" id="accessories-item" style="display: none;">
                            <div class="outfit-item-icon">
                                <i class="fas fa-hat-cowboy"></i>
                            </div>
                            <div class="outfit-item-info">
                                <div class="outfit-item-label">配件推荐</div>
                                <div class="outfit-item-name" id="accessories-recommendation">无</div>
                            </div>
                        </div>
                    </div>
                    
                    <!-- 穿搭建议 -->
                    <div style="margin-top: 30px; padding: 15px; border: 2px solid var(--charcoal); border-radius: 10px; background-color: var(--pastel-yellow);">
                        <h4 style="margin-top: 0; color: var(--charcoal);">穿搭建议</h4>
                        <p id="outfit-suggestion" style="line-height: 1.5;">根据当前天气为您生成穿搭建议中...</p>
                    </div>
                </div>
            </div>
        </div>
    </div>
    
    <!-- 通知容器 -->
    <div class="toast-container" id="toast-container"></div>
    
    <!-- 应用状态管理 -->
    <script>
        // 全局状态对象
        const state = {
            user: {
                height: 170,
                weight: 60,
                gender: 'female',
                healthConditions: []
            },
            weather: {
                current: null,
                forecast: [],
                lastUpdated: null
            },
            uvLevel: 'medium', // low, medium, high
            outfit: {
                top: null,
                bottom: null,
                shoes: null,
                outerwear: null,
                accessories: []
            },
            carWashDates: []
        };
    </script>
    
    <!-- 应用主脚本 -->
    <script src="cuime.js"></script>
</body>
</html> 